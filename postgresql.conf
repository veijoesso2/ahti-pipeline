# --- MEMORY SETTINGS ---
# Shared memory for caching data. Set to 25% of RAM.
shared_buffers = 512MB

# Amount of RAM for internal sort/hash operations. 
# Keep low to prevent Out-Of-Memory (OOM) crashes with multiple connections.
work_mem = 8MB

# RAM used for CREATE INDEX and VACUUM. 
# CRITICAL: This is the secret for your 00_prep_static.sql script.
maintenance_work_mem = 256MB

# Helps the planner understand how much RAM is available for caching by the OS.
effective_cache_size = 1536MB

# --- DISK & WORKER SETTINGS ---
# Core 2 Duo only has 2 cores. Disable parallel workers to save RAM overhead.
max_parallel_workers_per_gather = 0
max_parallel_maintenance_workers = 0
max_worker_processes = 2

# Optimization for SSDs (if you have one). If on HDD, leave at 4.0.
# random_page_cost = 1.1

# --- WRITE AHEAD LOG (WAL) ---
# Prevents frequent disk flushing which slows down imports.
checkpoint_timeout = 15min
checkpoint_completion_target = 0.9
max_wal_size = 1GB